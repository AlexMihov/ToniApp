<ion-view view-title="Marktplatz">
    <ion-nav-buttons side="secondary">
        <button class="button button-clear button-positive" ng-switch="showFilters"ng-click="handleTopButton()">
            <i ng-switch-when="false" class="icon ion-ios-plus-empty"></i>
            <i ng-switch-when="true">Reset</i>
        </button>
    </ion-nav-buttons>
    <div class="tabs-striped tabs-top tabs-color-positive">
        <div class="tabs">
            <a class="tab-item" ng-class="showFilters ? '':'active'" ng-click="displayFilter(false)">Alle Projekte</a>
            <a class="tab-item" ng-class="showFilters ? 'active':''" ng-click="displayFilter(true)">Filter</a>
        </div>
    </div>
    <ion-content>
    <div class="skip-nav-bar-margin"></div>
        <ion-list ng-hide="showFilters">
            <ion-item class="item-remove-animate item item-icon-right item-text-wrap neg-6px-margin" ng-repeat="marketEntry in marketEntries" type="item-text-wrap" href="#/tab/market/{{marketEntry.id}}">
                <h2>{{marketEntry.title}}</h2>
                <p>{{marketEntry.content}}</p>
                <i class="icon ion-chevron-right icon-accessory"></i>
                <ion-option-button class="button-assertive" ng-click="remove(marketEntry)">
                    Delete
                </ion-option-button>
            </ion-item>
        </ion-list>
        <ion-list ng-show="showFilters">
            <h5 class="padding">
                Projekte anzeigen von:
            </h5>
            <div ng-repeat="filter in filters">
                <ion-item class="item-stable item-icon-right neg-6px-margin" ng-click="toggleFilter(filter)" ng-class="{active: filter.active}">
                    {{filter.name}} &nbsp; <i class="icon icon-accessory" ng-class="filter.active ? 'ion-ios-arrow-up' : 'ion-ios-arrow-down'"></i>
                </ion-item>
                <ion-item class="item-accordion padding-25px" ng-repeat="item in filter.items" ng-show="filter.active">
                    {{item.name}}
                    <label class="toggle toggle-positive">
                        <input type="checkbox" checked>
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </ion-item>
            </div>
        </ion-list>
    </ion-content>
</ion-view>
